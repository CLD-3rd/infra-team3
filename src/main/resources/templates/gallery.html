<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <title>Image Gallery</title>
  <link rel="icon" type="image/png" th:href="@{/images/globetrek_logo.png}">
  <meta charset="utf-8">
  <meta name="format-detection" content="telephone=no" />
  <link rel="stylesheet" th:href="@{/css/camera.css}">
  <link rel="stylesheet" th:href="@{/css/owl.carousel.css}">
  <link rel="stylesheet" th:href="@{/css/style2.css}">
  <link rel="stylesheet" th:href="@{/css/sort.css}">
  <link rel="stylesheet" th:href="@{/css/superfish.css}">
  <link rel="stylesheet" th:href="@{/css/style.css}">
 



  <script src="/js/jquery.js"></script>
  <script src="/js/jquery-migrate-1.2.1.js"></script>
  <script src="/js/script.js"></script>
  <script src="/js/superfish2.js"></script>
  <script src="/js/jquery.ui.totop.js"></script>
  <script src="/js/jquery.equalheights.js"></script>
  <script src="/js/jquery.mobilemenu.js"></script>
  <script src="/js/jquery.easing.1.3.js"></script>
  <script src="/js/owl.carousel.js"></script>
  <script src="/js/camera.js"></script>
  <script>
    $(document).ready(function(){
      jQuery('#camera_wrap').camera({
        loader: false,
        pagination: false,
        minHeight: '444',
        thumbnails: false,
        height: '48.375%',
        caption: true,
        navigation: true,
        fx: 'mosaic'
      });
      $().UItoTop({ easingType: 'easeOutQuart' });
    });
    
  </script>
</head>

<body>
	
	<div id="fh5co-header">
			<header id="fh5co-header-section">
				<div class="container">
					<div class="nav-header" >
						<a th:href="@{/countries}">
        				<img th:src="@{/images/GlobeTrek.png}" alt="GlobeTrek" style="height: 120px;">
      					</a>
						<!-- START #fh5co-menu-wrap -->
						<nav id="fh5co-menu-wrap" role="navigation"  style="display: flex;" >
							<ul class="sf-menu" id="fh5co-primary-menu" style="display: flex; gap: 30px; padding: 0; margin: 0; list-style: none;">
								<li sec:authorize="isAuthenticated()">
    								<a th:text="${#authentication.principal.nickname + 'ë‹˜'}" style="font-size: 25px;"></a>
								</li>
								<li sec:authorize="isAnonymous()">
    								<a th:href="@{/auth/login}" style="font-size: 25px;">Login</a>
								</li>
								<li ><a th:href="@{/mypage}" style="font-size: 25px;">MyPage</a></li>
								<li><a th:href="@{/auth/signup}" style="font-size: 25px;">Register</a></li>
							</ul>
						</nav>
					</div>
				</div>
			</header>
			
		</div>

  <!-- SLIDER -->
  <div class="slider_wrapper">
    <div id="camera_wrap">
	<div th:each="i : ${#numbers.sequence(1, 3)}"
			th:data-src="@{'/images/countries/' + ${country.name} + '/' + ${i} +'.jpg'} ">
        <div class="caption fadeIn">
          <h2 th:text="${country.name}">ë‚˜ë¼ ì´ë¦„</h2>
        </div>
      </div>

      <!-- !!!!!!!!!!! ì´ë¯¸ì§€ ì¶”ê°€ì‹œ ì—¬ê¸°ë‹¤ê°€  -->
      <!-- <div data-src="images/slide1.jpg">
        <div class="caption fadeIn">
          <h2>Maldives</h2>
          <div class="price">FROM <span>$2000</span></div>
          <a href="#">LEARN MORE</a>
        </div>
      </div> -->
      
    </div>
  </div>

  <!-- CONTENT: BLOG -->
  <div class="content">
    <div class="container_12" style="display: flex; justify-content: center;">

      <div class="grid_7">
        <h3>Hot places</h3>
        <div class="sort-options" >
            <span class="sort-item" data-sort="hit">[ ì¡°íšŒìˆ˜ìˆœ ]</span>
            <span class="sort-item" data-sort="like">[ ì¢‹ì•„ìš”ìˆœ ]</span>
        </div>
        <div class="blog" th:each="log : ${travelLogs}"
        					th:data-hit="${log.hit}" 
     						th:data-like="${log.likeCount}">
          <div class="clear"></div>
          <img th:src="@{'/images/countries/' + ${country.name} + '/' + ${log.title} + '.jpg'}" alt="" class="img_inner">
          <div class="post-header">
             <div class="text1 col1" th:text="${log.title}">ì‚¬ì§„ ì œëª©</div>
             <div class="post-stats">
                <span class="likes" th:text="'â™¥' + ${log.likeCount}">â™¥ 5</span> |
                <span class="views" th:text="'ğŸ‘' + ${log.hit}">ğŸ‘ 123</span>
            </div>
        </div>
          <a th:href="@{'/gallery/' + ${log.id} + '/comments'}" class="link1">ë‚´ìš© ë”ë³´ê¸° </a>
        </div>

        
      </div>

    

    </div>
  </div>

<script>
  const sortItems = document.querySelectorAll('.sort-item');
  const blogContainer = document.querySelector('.grid_7');

  // ìµœì´ˆ blog DOM ë³µì‚¬ ì €ì¥
  const originalBlogs = Array.from(document.querySelectorAll('.blog')).map(el => el.cloneNode(true));

  sortItems.forEach(item => {
    item.addEventListener('click', () => {
      sortItems.forEach(i => i.classList.remove('selected'));
      item.classList.add('selected');

      const sortType = item.getAttribute('data-sort');

      // ê¸°ì¡´ ìš”ì†Œ ì œê±°
      while (blogContainer.querySelector('.blog')) {
        blogContainer.removeChild(blogContainer.querySelector('.blog'));
      }

      // ì •ë ¬ ë¡œì§
      const sortedBlogs = [...originalBlogs].sort((a, b) => {
        const aHit = parseInt(a.getAttribute('data-hit'));
        const bHit = parseInt(b.getAttribute('data-hit'));
        const aLike = parseInt(a.getAttribute('data-like'));
        const bLike = parseInt(b.getAttribute('data-like'));

        if (sortType === 'hit') {
          if (bHit !== aHit) return bHit - aHit;
          return bLike - aLike; // ì¡°íšŒìˆ˜ ê°™ìœ¼ë©´ ì¢‹ì•„ìš”ìˆœ
        } else if (sortType === 'like') {
          if (bLike !== aLike) return bLike - aLike;
          return bHit - aHit; // ì¢‹ì•„ìš” ê°™ìœ¼ë©´ ì¡°íšŒìˆ˜ìˆœ
        }

        return 0;
      });

      // ì •ë ¬ëœ ìš”ì†Œ ë‹¤ì‹œ ì¶”ê°€
      sortedBlogs.forEach(blog => {
        blogContainer.appendChild(blog.cloneNode(true));
      });
    });
  });
</script>



 

</body>
</html>
